{
  "title": "ES|QL Multi-Metric Chart",
  "visualizationType": "lnsXY",
  "references": [],
  "state": {
    "datasourceStates": {
      "textBased": {
        "layers": {
          "layer_0": {
            "index": "logs-*",
            "query": {
              "esql": "FROM logs-* | STATS event_count = COUNT(), total_bytes = SUM(bytes), avg_bytes = AVG(bytes) BY @timestamp"
            },
            "columns": [
              {
                "columnId": "x_metric_formula_accessor0",
                "fieldName": "@timestamp"
              },
              {
                "columnId": "metric_formula_accessor0_0",
                "fieldName": "event_count",
                "meta": {
                  "type": "number"
                }
              }
            ],
            "allColumns": [
              {
                "columnId": "x_metric_formula_accessor0",
                "fieldName": "@timestamp"
              },
              {
                "columnId": "metric_formula_accessor0_0",
                "fieldName": "event_count",
                "meta": {
                  "type": "number"
                }
              }
            ]
          },
          "layer_1": {
            "index": "logs-*",
            "query": {
              "esql": "FROM logs-* | STATS event_count = COUNT(), total_bytes = SUM(bytes), avg_bytes = AVG(bytes) BY @timestamp"
            },
            "columns": [
              {
                "columnId": "x_metric_formula_accessor1",
                "fieldName": "@timestamp"
              },
              {
                "columnId": "metric_formula_accessor1_0",
                "fieldName": "total_bytes",
                "meta": {
                  "type": "number"
                }
              }
            ],
            "allColumns": [
              {
                "columnId": "x_metric_formula_accessor1",
                "fieldName": "@timestamp"
              },
              {
                "columnId": "metric_formula_accessor1_0",
                "fieldName": "total_bytes",
                "meta": {
                  "type": "number"
                }
              }
            ]
          },
          "layer_2": {
            "index": "logs-*",
            "query": {
              "esql": "FROM logs-* | STATS event_count = COUNT(), total_bytes = SUM(bytes), avg_bytes = AVG(bytes) BY @timestamp"
            },
            "columns": [
              {
                "columnId": "x_metric_formula_accessor2",
                "fieldName": "@timestamp"
              },
              {
                "columnId": "metric_formula_accessor2_0",
                "fieldName": "avg_bytes",
                "meta": {
                  "type": "number"
                }
              }
            ],
            "allColumns": [
              {
                "columnId": "x_metric_formula_accessor2",
                "fieldName": "@timestamp"
              },
              {
                "columnId": "metric_formula_accessor2_0",
                "fieldName": "avg_bytes",
                "meta": {
                  "type": "number"
                }
              }
            ]
          }
        }
      }
    },
    "internalReferences": [
      {
        "type": "index-pattern",
        "id": "logs-*",
        "name": "indexpattern-datasource-layer-layer_0"
      },
      {
        "type": "index-pattern",
        "id": "logs-*",
        "name": "indexpattern-datasource-layer-layer_1"
      },
      {
        "type": "index-pattern",
        "id": "logs-*",
        "name": "indexpattern-datasource-layer-layer_2"
      }
    ],
    "filters": [],
    "query": {
      "language": "kuery",
      "query": ""
    },
    "visualization": {
      "axisTitlesVisibilitySettings": {
        "x": true,
        "yLeft": true,
        "yRight": true
      },
      "legend": {
        "isVisible": true,
        "position": "bottom"
      },
      "hideEndzones": true,
      "preferredSeriesType": "line",
      "valueLabels": "hide",
      "emphasizeFitting": true,
      "fittingFunction": "Linear",
      "yLeftExtent": {
        "mode": "full"
      },
      "tickLabelsVisibilitySettings": {
        "x": true,
        "yLeft": true,
        "yRight": true
      },
      "labelsOrientation": {
        "x": 0,
        "yLeft": 0,
        "yRight": 0
      },
      "gridlinesVisibilitySettings": {
        "x": true,
        "yLeft": true,
        "yRight": true
      },
      "layers": [
        {
          "layerId": "layer_0",
          "layerType": "data",
          "xAccessor": "x_metric_formula_accessor0",
          "accessors": [
            "metric_formula_accessor0_0"
          ],
          "seriesType": "bar"
        },
        {
          "layerId": "layer_1",
          "layerType": "data",
          "xAccessor": "x_metric_formula_accessor1",
          "accessors": [
            "metric_formula_accessor1_0"
          ],
          "seriesType": "line"
        },
        {
          "layerId": "layer_2",
          "layerType": "data",
          "xAccessor": "x_metric_formula_accessor2",
          "accessors": [
            "metric_formula_accessor2_0"
          ],
          "seriesType": "line"
        }
      ]
    },
    "adHocDataViews": {
      "logs-*": {}
    }
  }
}